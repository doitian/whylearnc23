[tasks.install]
run = "conan install . --build=missing --settings=build_type=Release"

[tasks.setup]
depends = ["install"]
run = "cmake --preset conan-release"
run_windows = "cmake --preset conan-default"

[tasks.clean]
run = "rm -rf build"

[tasks.build]
description = "Build the project"
run = "cmake --build --preset conan-release"

[tasks.test]
description = "Build and run tests"
depends = ["build"]
run = "ctest --test-dir build --output-on-failure"
run_windows = "ctest --preset conan-release --output-on-failure"